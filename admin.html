<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrador - Loterías y Chances</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="icono/img.png" type="image/png">
    <script defer src="admin.js"></script>
</head>
<body>
    <h1>Panel de Administración - Loterías</h1>
<form id="admin-form">
  <input type="text" id="nombre-loteria" placeholder="Nombre de la lotería" required><br>
  <input type="text" id="resultado-loteria" placeholder="Resultado (ej: 1234 - Leo)" required><br>
  <button type="submit">Guardar Resultado</button>
</form>

<script>
  const form = document.getElementById('admin-form');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const nombre = document.getElementById('nombre-loteria').value;
    const resultado = document.getElementById('resultado-loteria').value;

    // Obtener y actualizar data.json
    let response = await fetch('data.json');
    let data = await response.json();

    data.loterias.push({ nombre, resultado });
    data.fecha = new Date().toISOString().split('T')[0];

    // Guardar cambios (esto solo funciona en un servidor backend, no en GitHub Pages)
    console.log(JSON.stringify(data));  // Puedes usar este JSON para actualizar manualmente.

    alert('Resultado guardado.');
    form.reset();
  });
</script>

    <div class="contenedor">
        <header>
            <h1>Panel de Administración LotyCol</h1>
            <h2>Loterías y chances de colombia</h2>
        </header>

        <!-- Contenido del Administrador -->
        <div id="adminContent">
            <form id="formulario">
                <h2>Agregar/Editar Resultados</h2>

                <label for="tipo">Tipo:</label>
                <select id="tipo" required>
                    <option value="loterias">Lotería</option>
                    <option value="chances">Chance</option>
                </select>

                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" required placeholder="Ej. Lotería de Bogotá">

                <label for="numero">Número:</label>
                <input type="text" id="numero" required placeholder="Ej. 1234">

                <label for="serie">Serie:</label>
                <input type="text" id="serie" required placeholder="Ej. 56">

                <label for="fecha">Fecha del Sorteo:</label>
                <input type="date" id="fecha" required>

                <label for="logo">Logo:</label>
                <input type="file" id="logo" accept="image/*" required>

                <button type="submit" id="submitBtn">Agregar Resultado</button>
            </form>

            <h2>Resultados Actuales</h2>
            <div class="resultados">
                <div class="column">
                    <h3>Loterías</h3>
                    <ul id="listaLoterias"></ul>
                </div>
                <div class="column">
                    <h3>Chances</h3>
                    <ul id="listaChances"></ul>
                </div>
            </div>
        </div>

        <button id="logout">Cerrar sesión</button>

        <footer>© 2024 - Loterías y Chances de Colombia. Todos Los Derechos Reservados</footer>
    </div>
</body>
</html>
